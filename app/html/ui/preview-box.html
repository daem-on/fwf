<h3><i class="material-icons">filter_frames</i>Preview</h3>
<video autoplay id="preview" width="480" height="240"></video>
<div style="margin-top:6px">
    <div class="prev-toolbar">
        <a class="shortButton no-border" onclick="preview()" title="Start preview">
            <i class="material-icons">queue_play_next</i></a>
        <a class="shortButton" onclick="resumePreview()" title="Resume">
            <i class="material-icons">play_arrow</i></a>
        <a class="shortButton" onclick="pausePreview()" title="Pause">
            <i class="material-icons">pause</i></a>
        <a class="shortButton" onclick="pluginMan.openPlugin('filter')" title="Add filter">
            <i class="material-icons">filter</i></a>
        <a class="shortButton" onclick="pluginMan.openPlugin('textEditor')" title="Add text">
            <i class="material-icons">text_fields</i></a>
    </div>
</div>
<br>
<span id="loading">Loading...</span>

<style>
.prev-toolbar {
    border: 1px solid #555;
    display: inline-block;
    padding: 0px 4px 0px 4px !important;
    border-radius: 5px;
}
.no-border {
    border: 0 !important;
}
.prev-toolbar > .shortButton {
    border-left: 1px solid #555;
    margin: 0;
}
.prev-toolbar > .shortButton > .material-icons {
    font-size: 16px;
}
#loading {
    display: none;
    position: relative;
    bottom: 100px;
}
#loading.display {
    display: initial;
}

</style>

<script>
video = $("#preview")[0];

$('#preview').on('loadstart', function (event) {
    $("#loading").addClass('display');
    startTime = back(timeline.getCustomTime());
});
$('#preview').on('canplay', function (event) {
    $("#loading").removeClass('display');
});
$('#preview').on('playing', function (event) {
    timer = setInterval(incrementCustom, 100)
});
$('#preview').on('pause', function (event) {
    clearInterval(timer);
});
</script>
